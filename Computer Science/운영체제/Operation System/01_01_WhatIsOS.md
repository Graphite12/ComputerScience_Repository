# 운영체제에서 말하는 프로그램

- 컴퓨터에서 수행할 특정 작업을 위해 작성된 어떠한 명령어들의 집합
- 물리적인 저장장치에 "파일"이라는 형태로 저장.
## 프로세스와 스레드

- **프로세스(Process)**
	- 프로그램의 `인스턴스화`
	- `메모리`에 `로드`되어 실행.
	- 각 프로세스 별로 독립.
- **스레드(thread)**
	- 프로세스 내에서 실행되는 흐름의 단위.
	- OS 스레드, 유저 스레드로 나뉨.
	- 프로세스의 자원을 공유
# 운영체제의 구조

![[OS구조.png]]
- **사용자 인터페이스(User Interface)**
  - **CLI (Command Line Interface)**
	- `sh`, `bash`, `csh`, `zsh`, `tcsh` 등 존재.
  - **GUI (Graphic User Interface)**
	- `Windows`, `Linux`, `Mac OS` 등..
  - **Touch Screen Interface**
	- `Android`, `Ios` 등 
- **프로그램의 실행(Program execution)**
	- 시스템은 프로그램을 메모리에 적재해 실행 가능.
	- 정상 혹은 비정상적으로 끝낼 수 있어야함.
- **입/출력 연산(I/O operation)**
	- 사용자가 I/O를 수행하기 위한 API 제공. 
	- 예: 네트워크 인터페이스로 데이터읽기, 파일 관리 시스템을 통해 쓰기
- **파일 시스템 조작(File-system manipulation)**
	- 프로그램이 파일 혹은 디렉토리를 읽기, 쓰기, 생성, 삭제, 검색 등 기능 활용.
	- 파일 소유권에 따른 권한 관리(접근 허용 및 거부)
- **에러 탐색(Error detection)**
	- 지속적인 오류 감지 및 수정
	- CPU, 메모리, I/O 장치, 프로그램에서 발생가능
	- 올바르고 일관된 컴퓨팅 보장.
	- 시스템을 중단, 오류발생 프로세스 종료 및 오류코드 반환 
- **자원 할당(Resource allocation)**
	- 여러 프로세스가 동시에 실행 중일때 각 프로세스별로 적절하게 자원할당.
	- 메모리, 파일 저장소, CPU 주기 등 리소스 관리
	- 프린터, USB 등 기타 주변 장치 할당
- **로깅(logging)**
	- 컴퓨터의 리소스 사용량 추적
	- 사용 통계 수집
	- 시스템 관리자가 시스템 최적화 
- **보호 및 보안(Protection and Security)**
	- **보호:** 동시에 실행된 각 프로세스 끼리 간섭 방지 
	- **보안:** 시스템 보호를 위한 사용자 인증, I/O 장치 보호 및 침입 감지

 
## 시스템 호출(System Call)

- 시스템 호출은 운영체제에서 제공하는 인터페이스이다.
- 사용자 레벨의 프로그램이 운영체제의 커널에 서비스 요청할때 쓰임.
- 파일 관리, 프로세스 제어, 메모리 관리, 네트워크 관, 시스템 정보 접근 등을 제공.

## 인터럽트란?, interupt 

- 끼어듦, 가로막기라는 뜻
- 예외상황 발생 시 CPU에서 현재 작업을 일시 중단하고, 특정 이벤트를 수행 후 원래 작업을 수행하는 매커니즘.

#### 하드웨어 인터럽트
- **사용자 입력**: 키보드, 조이스틱 등
- **디스크 드라이브 I/O**
	+ USB, 외장 SSD등 Data 시작과 종료를 알리는 경우
#### 소프트웨어 인터럽트
- 시스템 호출 사용.
- 프로그램 오류.

# 커널(Kernel)
- 운영체제의 핵심부분 담당.
	- 하드웨어 관리
	- 프로세스 관리
	- 메모리 관리
	- 파일 시스템 관리
	- 네트워크 관리
- 부팅 시 메모리의 특정 영역에 저장.
- 커널모드에서 하드웨어에 직접 접근할 권리를 가짐.
## **운영체제의 모드 개념**

- 컴퓨터 시스템의 하드웨어와 소프트웨어를 독립
- 각 시스템의 올바른 실행 보장
- 모드 전환시 CPU의 Mode bit를 전환
- 사용자 정의 코드는 유저 모드, 운영체제 코드는 커널 모드
- **유저모드**
	-  운영체제 로드 이후 유저 모드 실행.
	- 
- **커널모드**
	-  시스템 부팅시 커널 모드 실행.
	-  운영체제 코드가 실행됨.
	-  인터럽트, 시스템콜 호출 시 커널모드 전환

## 자주 쓰이는 시스템 내 데이터 구조들

1. **배열**
	- 고정 크기 콜렉션
	- 메모리 공간을 연속적으로 차지
1. **선형 데이터 구조**
	1. **스택**
		 - LIFO: 후입선출
		 - 함수 호출, 메모리 할당같은 기능 구현
	2. **큐**
		- FIFO: 선입선출
		- 프로세스 스케줄링, 프린터, 네트워크 버퍼링 등 기능 구현  
1. **연결리스트**
	- 노드라는 객체로 구성
	- 데이터를 추가/삭제가 빈번히 일어날 때 사용.
	- 배열에 비해 속도가 느림
	- 크기가 동적임.
1. **해시 테이블**
	- `키-값`상의 데이터 저장방식.
	- 키를 Hash값으로 인덱싱
	- 파일 시스템, 캐싱 등에 사용.
1. **트리**
	- 계층적 데이터 구조.
	- 노드라는 객체로 구성
	- Root와 자식 노드로 구성
	- 파일시스템, 데이터베이스, 검색 알고리즘 등 사용.
1. **그래프**
	- 비선형 자료구조.
	- 노드(정점)과 노드(간선)간의 연결로 이루어짐.
	- 네트워크, 관계 데이터베이스, 맵 구현 등 사용.

# 멀티프로그래밍과 멀티태스킹

-  **멀티프로그래밍이란(Multi Programming)?**
	- 멀티 프로그래밍에서 실행되는 프로그램은 **프로세스**.
	- 여러 프로세스를 메모리에 올려두고 유지.
	- 하나의 프로세스가 대기상태면, 다른 프로세스로 전환
	- CPU가 효율적으로 작업을 수행함.
	
- **멀티프로그래밍 이전**
	- 하나의 프로세스를 메모리에 올려두고 유지.
	- 현재 프로세스의 I/O 작업 중 CPU는 **유휴상태(Idle)** 유지
	- CPU 작업 효율성이 떨어짐.

- **멀티태스킹(Multi Tasking)**
	- `Task`: O/S에서 처리하는 작업의 단위.(process보다 상위개념)
	- 여러 Task를 **CPU스케줄링**에 의해 번갈아가며 수행.



